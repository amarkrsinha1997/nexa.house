(()=>{var c=class{constructor(){this.nexaPerUSD=null,this.lastUpdate=null,this.fallbackRate=1e9/650}async fetchNexaPrice(){try{let t=["https://api.coingecko.com/api/v3/simple/price?ids=nexa&vs_currencies=usd","https://api.coinpaprika.com/v1/tickers/nex-nexa"];for(let e of t)try{let i=await fetch(e);if(!i.ok)continue;let s=await i.json();if(s.nexa?.usd)return this.nexaPerUSD=1/s.nexa.usd,this.lastUpdate=Date.now(),console.log(`NEXA Price: $${s.nexa.usd} USD (${this.nexaPerUSD.toFixed(0)} NEX per USD)`),!0;if(s.quotes?.USD?.price)return this.nexaPerUSD=1/s.quotes.USD.price,this.lastUpdate=Date.now(),console.log(`NEXA Price: $${s.quotes.USD.price} USD (${this.nexaPerUSD.toFixed(0)} NEX per USD)`),!0}catch(i){console.warn(`Failed to fetch from ${e}:`,i.message);continue}throw new Error("All price sources failed")}catch{return console.warn("Using fallback NEXA price: 1B NEX = $650"),this.nexaPerUSD=this.fallbackRate,this.lastUpdate=Date.now(),!1}}formatNexa(t){return t>=1e6?`${(t/1e6).toFixed(1)}M NEX`:t>=1e3?`${(t/1e3).toFixed(0)}K NEX`:`${Math.round(t)} NEX`}convertUSDToNexa(t){return this.nexaPerUSD?t*this.nexaPerUSD:null}updatePropertyPrices(t){return t.map(e=>{let i;if(e.priceUSD.includes("/night")){let s=e.priceUSD.match(/\$([\d,]+)/);if(s){i=parseFloat(s[1].replace(/,/g,""));let n=this.convertUSDToNexa(i);return{...e,priceNexa:this.formatNexa(n)}}}else{let s=e.priceUSD.match(/\$([\d,]+)/);if(s){i=parseFloat(s[1].replace(/,/g,""));let n=this.convertUSDToNexa(i);return{...e,priceNexa:this.formatNexa(n)}}}return e})}},r=class{constructor(t){this.canvas=document.getElementById(t),this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.stars=[],this.starCount=12e3,this.maxDepth=32,this.resize(),this.init(),this.animate(),window.addEventListener("resize",()=>this.resize()))}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.centerX=this.canvas.width/2,this.centerY=this.canvas.height/2}init(){this.stars=[];for(let t=0;t<this.starCount;t++)this.stars.push({x:Math.random()*this.canvas.width-this.centerX,y:Math.random()*this.canvas.height-this.centerY,z:Math.random()*this.maxDepth,opacity:Math.random()*.5+.5,twinkleSpeed:Math.random()*.02+.01})}animate(){this.ctx.fillStyle="rgba(5, 8, 20, 0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.stars.forEach(t=>{t.z-=.015,t.z<=0&&(t.z=this.maxDepth,t.x=Math.random()*this.canvas.width-this.centerX,t.y=Math.random()*this.canvas.height-this.centerY),t.opacity+=Math.sin(Date.now()*t.twinkleSpeed)*.01,t.opacity=Math.max(.3,Math.min(1,t.opacity));let e=128/t.z,i=t.x*e+this.centerX,s=t.y*e+this.centerY;if(i>=0&&i<=this.canvas.width&&s>=0&&s<=this.canvas.height){let n=(1-t.z/this.maxDepth)*2,o=t.opacity*(1-t.z/this.maxDepth);this.ctx.beginPath(),this.ctx.arc(i,s,n,0,Math.PI*2),this.ctx.fillStyle=`rgba(139, 92, 246, ${o})`,this.ctx.fill(),n>1&&(this.ctx.beginPath(),this.ctx.arc(i,s,n*2,0,Math.PI*2),this.ctx.fillStyle=`rgba(139, 92, 246, ${o*.2})`,this.ctx.fill())}}),requestAnimationFrame(()=>this.animate())}},l=class{constructor(){this.currentLang=this.detectLanguage(),this.content={},this.loadContent()}detectLanguage(){let e=new URLSearchParams(window.location.search).get("lang");if(e&&["en","hi"].includes(e))return e;let i=localStorage.getItem("nexa-house-lang");return i&&["en","hi"].includes(i)?i:navigator.language.split("-")[0]==="hi"?"hi":"en"}loadContent(){this.content=this.currentLang==="hi"?content_hi:content_en,this.updateContent(),this.updateMetaTags()}getNestedValue(t,e){return e.split(".").reduce((i,s)=>i?.[s],t)}updateContent(){document.querySelectorAll("[data-i18n]").forEach(e=>{let i=e.getAttribute("data-i18n"),s=this.getNestedValue(this.content,i);s!==void 0&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"?e.placeholder=s:e.textContent=s)});let t=document.querySelector(".lang-toggle");t&&(t.innerHTML=this.currentLang==="en"?'<i class="fas fa-globe"></i> EN':'<i class="fas fa-globe"></i> HI'),document.querySelectorAll(".lang-option").forEach(e=>{let i=e.getAttribute("data-lang");e.classList.toggle("active",i===this.currentLang)})}updateMetaTags(){document.title=this.content.meta.title;let t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content",this.content.meta.description);let e=document.querySelector('meta[name="keywords"]');e&&e.setAttribute("content",this.content.meta.keywords)}setLanguage(t){["en","hi"].includes(t)&&t!==this.currentLang&&(this.currentLang=t,localStorage.setItem("nexa-house-lang",t),this.loadContent(),window.propertyRenderer&&window.propertyRenderer.render())}},h=class{constructor(t,e){this.container=document.getElementById(t),this.i18n=e}render(){if(!this.container)return;let t=this.i18n.content.properties.items;this.container.innerHTML="",t.forEach(e=>{let i=this.createPropertyCard(e);this.container.appendChild(i)})}createPropertyCard(t){let e=document.createElement("div");return e.className="property-card animate-on-scroll",e.innerHTML=`
      <div class="property-image-wrapper">
        <img src="${t.image}" alt="${t.title}" loading="lazy">
        <div class="property-price">
          <div class="price-nexa">${t.priceNexa}</div>
          <div class="price-usd">${t.priceUSD}</div>
        </div>
      </div>
      <div class="property-content">
        <div class="property-badge">${t.badge}</div>
        <div class="property-location">
          <span class="location-icon"><i class="fas fa-map-marker-alt"></i></span>
          ${t.location}
        </div>
        <h3>${t.title}</h3>
        <div class="property-features">
          <div class="feature">
            <span class="icon"><i class="fas fa-bed"></i></span>
            ${t.bedrooms}
          </div>
          <div class="feature">
            <span class="icon"><i class="fas fa-bath"></i></span>
            ${t.bathrooms}
          </div>
          <div class="feature">
            <span class="icon"><i class="fas fa-ruler-combined"></i></span>
            ${t.area}
          </div>
        </div>
        <div class="property-type">${t.type}</div>
      </div>
    `,e}},d=class{constructor(){this.header=document.querySelector(".header"),this.mobileToggle=document.querySelector(".mobile-toggle"),this.mobileMenu=document.querySelector(".mobile-menu"),this.mobileOverlay=document.querySelector(".mobile-overlay"),this.navLinks=document.querySelectorAll('nav a[href^="#"]'),this.init()}init(){window.addEventListener("scroll",()=>this.handleScroll()),this.mobileToggle&&this.mobileToggle.addEventListener("click",()=>this.toggleMobileMenu()),this.mobileOverlay&&this.mobileOverlay.addEventListener("click",()=>this.toggleMobileMenu()),this.navLinks.forEach(t=>{t.addEventListener("click",e=>this.smoothScroll(e))}),this.observeSections()}handleScroll(){window.scrollY>50?this.header?.classList.add("scrolled"):this.header?.classList.remove("scrolled")}toggleMobileMenu(){this.mobileToggle?.classList.toggle("active"),this.mobileMenu?.classList.toggle("active"),this.mobileOverlay?.classList.toggle("active"),document.body.style.overflow=this.mobileMenu?.classList.contains("active")?"hidden":""}smoothScroll(t){t.preventDefault();let e=t.currentTarget.getAttribute("href"),i=document.querySelector(e);if(i){let s=i.offsetTop-80;window.scrollTo({top:s,behavior:"smooth"}),this.mobileMenu?.classList.contains("active")&&this.toggleMobileMenu()}}observeSections(){let t=document.querySelectorAll("section[id]"),e={threshold:.3,rootMargin:"-80px 0px -80px 0px"},i=new IntersectionObserver(s=>{s.forEach(n=>{if(n.isIntersecting){let o=n.target.getAttribute("id");this.updateActiveNav(o)}})},e);t.forEach(s=>i.observe(s))}updateActiveNav(t){this.navLinks.forEach(e=>{e.getAttribute("href")===`#${t}`?e.classList.add("active"):e.classList.remove("active")})}},u=class{constructor(t){this.i18n=t,this.toggle=document.querySelector(".lang-toggle"),this.dropdown=document.querySelector(".lang-options"),this.options=document.querySelectorAll(".lang-option"),this.init()}init(){this.toggle&&this.toggle.addEventListener("click",t=>{t.stopPropagation(),this.toggleDropdown()}),this.options.forEach(t=>{t.addEventListener("click",()=>{let e=t.getAttribute("data-lang");this.i18n.setLanguage(e),this.closeDropdown()})}),document.addEventListener("click",()=>this.closeDropdown())}toggleDropdown(){this.dropdown?.classList.toggle("active")}closeDropdown(){this.dropdown?.classList.remove("active")}},g=class{constructor(){this.items=document.querySelectorAll(".faq-item"),this.init()}init(){this.items.forEach(t=>{t.querySelector(".faq-question").addEventListener("click",()=>this.toggle(t))})}toggle(t){let e=t.classList.contains("active");this.items.forEach(i=>{i.classList.remove("active")}),e||t.classList.add("active")}},p=class{constructor(){this.observerOptions={threshold:.1,rootMargin:"0px 0px -100px 0px"},this.init()}init(){let t=new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting&&(i.target.classList.add("animate-in"),t.unobserve(i.target))})},this.observerOptions);document.querySelectorAll(".animate-on-scroll").forEach(e=>{t.observe(e)})}};document.addEventListener("DOMContentLoaded",async()=>{let a=new r("starfield"),t=new l;window.i18n=t;let e=new c;await e.fetchNexaPrice(),content_en.properties.items=e.updatePropertyPrices(content_en.properties.items),content_hi.properties.items=e.updatePropertyPrices(content_hi.properties.items),t.content=t.currentLang==="en"?content_en:content_hi;let i=new h("properties-grid",t);window.propertyRenderer=i,i.render();let s=new d,n=new u(t),o=new g,m=new p;console.log("\u{1F3E1} Nexa House initialized successfully"),console.log(`\u{1F4CD} Language: ${t.currentLang}`),console.log(`\u{1F3E0} Properties loaded: ${t.content.properties.items.length}`)});})();
